<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:title"              content="dakang blog" />
  <meta property="og:description"        content="study" />
  <!-- Bootstrap Core CSS -->
  <link rel="stylesheet" href="/css/bootstrap/bootstrap.min.css">
  <link rel="stylesheet" href="/css/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    
    
    <div class="container main mt-4">
      <div class="row">
        <div class="col pr-4">
          <div>
  <div id="article">
    <h1 class="title">ç”¨log4jså‘é€é‚®ä»¶</h1>
    <!-- <div class="tags">
      <a href=""></a>
    </div> -->
    <p>log4js-nodeæ˜¯nodeä¸Šçš„æ—¥å¿—è¾“å‡ºå·¥å…·ï¼Œæœ‰å¾ˆå¤šæ–¹ä¾¿å¥½ç”¨çš„åŠŸèƒ½ï¼Œå‘é€é‚®ä»¶æ˜¯å…¶ä¸­ä¸€é¡¹ã€‚</p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>npm install log4js</p>
<h2 id="ç®€å•ä»‹ç»"><a href="#ç®€å•ä»‹ç»" class="headerlink" title="ç®€å•ä»‹ç»"></a>ç®€å•ä»‹ç»</h2><p>1.x and 2.xåœ¨APIä¸Šæœ‰æ‰€åŒºåˆ«ï¼Œè¿™é‡Œé’ˆå¯¹çš„æ˜¯2.x</p>
<h3 id="é…ç½®-log4js-configure-object-string"><a href="#é…ç½®-log4js-configure-object-string" class="headerlink" title="é…ç½® - log4js.configure(object || string)"></a>é…ç½® - log4js.configure(object || string)</h3><p>objectåŒ…å«é…ç½®ä¿¡æ¯ï¼›stringå¯ä»¥æ˜¯é…ç½®æ–‡ä»¶çš„è·¯å¾„<br>é…ç½®ä¸­ä¸»è¦æœ‰ä¸¤ä¸ªæ¯”è¾ƒé‡è¦çš„å±æ€§ï¼šcategorieså’Œappenders  </p>
<ul>
<li><p>appenders<br>å®šä¹‰æ˜¯äº†æ—¥å¿—çš„è¾“å‡ºå½¢å¼ï¼Œå¯ä»¥æ˜¯stdoutï¼ˆæ ‡å‡†è¾“å‡ºæµï¼‰ã€fileï¼ˆæ–‡ä»¶ï¼‰ã€smtpï¼ˆé‚®ä»¶ï¼‰ç­‰</p>
</li>
<li><p>categories<br>ç±»åˆ«æˆ–è€…è¯´æ˜¯åˆ†ç»„ã€‚å¯ä»¥å®šä¹‰ç±»åˆ«åç§°ï¼Œæ¯ä¸ªç±»åˆ«ä¸‹æŒ‡å®šæœ‰å“ªäº›appendersã€‚åœ¨è¿›è¡Œæ—¥å¿—è¾“å‡ºæ—¶ï¼Œæ˜¯å¯ä»¥é€‰æ‹©ç±»åˆ«çš„ã€‚åˆ™æ—¥å¿—ä¼šä»¥è¯¥ç±»åˆ«ä¸‹çš„å„ä¸ªappenderså¯¹åº”çš„å½¢å¼è¾“å‡ºã€‚<br>categoriesä¸­è¿˜å¯ä»¥æŒ‡å®šlevelï¼Œä½äºè¯¥levelçš„æ—¥å¿—æ˜¯ä¸ä¼šå‘é€åˆ°appendersçš„</p>
</li>
<li><p>æ—¥å¿—çº§åˆ«level<br>ALL &lt; TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL &lt; MARK &lt; OFF</p>
</li>
</ul>
<h3 id="æ—¥å¿—è®°å½•å™¨-log4js-getLogger-category"><a href="#æ—¥å¿—è®°å½•å™¨-log4js-getLogger-category" class="headerlink" title="æ—¥å¿—è®°å½•å™¨ - log4js.getLogger([category])"></a>æ—¥å¿—è®°å½•å™¨ - log4js.getLogger([category])</h3><p>æŒ‡å®šäº†ç±»åˆ«ï¼Œè·å¾—ä¸€ä¸ªæ—¥å¿—è®°å½•å™¨ã€‚æ—¥å¿—è®°å½•å™¨çš„æ—¥å¿—ä¼šæŒ‰ç…§è¯¥ç±»åˆ«çš„è®¾ç½®è¿›è¡Œè¾“å‡ºã€‚è¦è¾“å‡ºæ—¥å¿—ï¼Œè°ƒç”¨å„çº§åˆ«çš„æ–¹æ³•å³å¯ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var logger=log4js.getLogger()  //ä¸æŒ‡å®šç±»åˆ«ï¼Œé»˜è®¤æ˜¯defualtç±»åˆ«</div><div class="line">logger.debug(&apos;hello&apos;)</div><div class="line">logger.info(&apos;hello&apos;)</div><div class="line">logger.warn(&apos;hello&apos;)</div><div class="line">logger.error(&apos;hello&apos;)</div></pre></td></tr></table></figure></p>
<h2 id="é‚®ä»¶å‘é€"><a href="#é‚®ä»¶å‘é€" class="headerlink" title="é‚®ä»¶å‘é€"></a>é‚®ä»¶å‘é€</h2><p>ç”±xxxx@163.comå‘é€ä¸€å°é‚®ä»¶ç»™xxxx@qq.comï¼Œé‚®ä»¶ä¸­å«æœ‰é™„ä»¶ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">var log4js = require(&apos;log4js&apos;)</div><div class="line">log4js.configure(&#123;</div><div class="line">  appenders: &#123;</div><div class="line">    file: &#123;</div><div class="line">      type: &apos;file&apos;,</div><div class="line">      filename: &apos;test-log.log&apos;</div><div class="line">    &#125;,</div><div class="line">    email: &#123;</div><div class="line">      type: &quot;smtp&quot;,</div><div class="line">      recipients: &quot;xxxx@qq.com&quot;, //å¯ä»¥å¤šä¸ªï¼Œç”¨,éš”å¼€</div><div class="line">      subject: &quot;test-log&quot;,//é‚®ä»¶æ ‡é¢˜</div><div class="line">      sender: &quot;xxxx@163.com&quot;,//å‘é€è€…</div><div class="line">      attachment: &#123; //å¦‚æœä¸éœ€è¦é™„ä»¶åˆ æ‰è¿™ä¸ªå³å¯</div><div class="line">        enable: true,</div><div class="line">        filename: &quot;test-log.log&quot;, //é™„ä»¶æ–‡ä»¶å</div><div class="line">        message: &quot;é™„ä»¶&quot; //é™„ä»¶åç§°</div><div class="line">      &#125;,</div><div class="line">      transport: &#123;</div><div class="line">        plugin: &quot;smtp&quot;,</div><div class="line">        options: &#123;</div><div class="line">          host: &quot;smtp.163.com&quot;,//ä¸åŒé‚®ä»¶æœåŠ¡å•†çš„ä¸»æœºåæ˜¯ä¸åŒçš„ã€‚ç™»å½•å¯¹åº”é‚®ç®±ï¼Œåœ¨POP3/SMTP/IMAPè®¾ç½®ä¸­æŸ¥çœ‹ã€‚</div><div class="line">          port: 465,</div><div class="line">          secure: true, // true for 465, false for other ports</div><div class="line">          auth: &#123;</div><div class="line">            user: &quot;xxxx@163.com&quot;,//å‘é€è€…é‚®ç®±</div><div class="line">            pass: &quot;xxxx&quot; //é‚®ç®±å¯†ç æˆ–è€…æ˜¯æˆæƒç </div><div class="line">          &#125;</div><div class="line">        &#125;</div><div class="line">      &#125;,</div><div class="line">      html: false,//å†…å®¹æ˜¯htmlè¿˜æ˜¯çº¯æ–‡æœ¬å½¢å¼</div><div class="line">      sendInterval: 0 //ç§’ã€‚æ¯ä¸ªå¤šå°‘ç§’åï¼ŒæŠŠæ”¶é›†åˆ°çš„æ—¥å¿—ä¿¡æ¯å‘é€å‡ºå»</div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line">  categories: &#123;</div><div class="line">    default: &#123;</div><div class="line">      appenders: [&apos;file&apos;, &apos;email&apos;],</div><div class="line">      level: &apos;debug&apos;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line">var logger = log4js.getLogger()</div><div class="line">logger.debug(&quot;test email width log4js&quot;)</div></pre></td></tr></table></figure>

    <div class="navigator">
      
     
      
         <a class="next" href="/2017/11/19/css/skill/">ä¸‹ä¸€ç¯‡</a>
      
    </div>
  </div>
</div>
        </div>
        <span class="controller">
    <!-- <i class="fa fa-plus" aria-hidden="true"></i> -->
    <i class="fa fa-times" aria-hidden="true"></i>
</span>
<div class="pl-0 pr-0 pt-4 sidebar">
  <div class="pl-4 pr-4 pb-4 sidebar-inner">
    <a href="/" class="d-flex justify-content-center">
      <img src="/images/avatar.png">
    </a>
    <div class="category mb-5">
      <div class="mt-2 pb-2 category-title">
        <i class="fa fa-user" aria-hidden="true"></i>
        <span>ä»‹ç»</span>
      </div>
      <div class="category-list mt-2">
        å‰ç«¯èœé¸Ÿ
      </div>
    </div>
    
      
    <div class="category  mb-5">
      <div class="mt-2 pb-2 category-title">
        <i class="fa fa-tags" aria-hidden="true"></i>
        <span>æ ‡ç­¾</span>
      </div>
      <div class="category-list mt-2">
        
          
        <a class="entry">HTTPæƒå¨æŒ‡å—</a>
        
          
        <a class="entry">blockchain</a>
        
          
        <a class="entry">åŒæºç­–ç•¥</a>
        
          
        <a class="entry">vueæºç å­¦ä¹ ç¬”è®°</a>
        
          
        <a class="entry">webpack</a>
        
          
        <a class="entry">loader</a>
        
          
        <a class="entry">å¼‚æ­¥</a>
        
          
        <a class="entry">css</a>
        
          
        <a class="entry">å¸ƒå±€</a>
        
      </div>
    </div>
    
  </div>
</div>
      </div>
    </div>

      <script src="/assets/jquery-3.2.1.min.js"></script>
<script src="/js/common.js"></script>
  </body>

  </html>